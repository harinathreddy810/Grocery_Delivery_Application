<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Order Details</title>
</head>
<body>
    <h1>Order Details - <span th:text="${order.orderNumber}"></span></h1>
    
    <div class="order-info">
        <p><strong>Date:</strong> <span th:text="${#temporals.format(order.createdAt, 'yyyy-MM-dd HH:mm')}"></span></p>
        <p><strong>Status:</strong> <span th:text="${order.status}"></span></p>
        <p><strong>Payment Method:</strong> <span th:text="${order.paymentMethod}"></span></p>
        <p><strong>Shipping Address:</strong> <span th:text="${order.shippingAddress}"></span></p>
    </div>
    
    <h2>Order Items</h2>
    <table class="table">
        <thead>
            <tr>
                <th>Product</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Subtotal</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="item : ${order.orderItems}">
                <td th:text="${item.product.name}"></td>
                <td th:text="${#numbers.formatDecimal(item.price, 1, 2)}"></td>
                <td th:text="${item.quantity}"></td>
                <td th:text="${#numbers.formatDecimal(item.getSubTotal(), 1, 2)}"></td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <th colspan="3">Total</th>
                <th th:text="${#numbers.formatDecimal(order.totalAmount, 1, 2)}"></th>
            </tr>
        </tfoot>
    </table>
    
    <a href="/user/orders" class="btn btn-secondary">Back to Orders</a>
</body>
</html>